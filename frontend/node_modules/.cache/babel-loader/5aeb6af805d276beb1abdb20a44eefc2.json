{"ast":null,"code":"var _jsxFileName = \"/Users/jokizi/Documents/GitHub/BrunettiJoris_7_27052021/frontend/src/components/Avatars/Avatars.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport api from \"../../Config/Api\";\nimport \"./avatars.css\";\nimport Button from \"../Button/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction importAll(r) {\n  let images = {};\n  r.keys().forEach((item, index) => {\n    images[item.replace(\"./\", \"\")] = r(item);\n  });\n  return images;\n}\n\nconst images = importAll(require.context(\"../../assets/avatars\", false, /\\.(png|jpe?g|svg)$/));\n\nconst Card = ({\n  number,\n  selectCardIndex\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    style: selectCardIndex === number ? {\n      border: \"1px solid black\"\n    } : null,\n    name: images[`${number}.jpg`].default,\n    src: images[`${number}.jpg`].default,\n    alt: number,\n    height: 150,\n    width: 150\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Card;\n\nconst Avatar = ({\n  onChangeAvatar,\n  close,\n  open,\n  handleModal\n}) => {\n  _s();\n\n  const [avatar, setAvatars] = useState(\"\");\n  const [selectCardIndex, setSelectCardIndex] = useState(null);\n  const tab = Array.from(Array(11).keys());\n  tab.shift();\n\n  const onSubmitAvatar = (e, i) => {\n    setAvatars(e.target.name);\n    setSelectCardIndex(i + 1);\n  };\n\n  const onSubmit = async () => {\n    try {\n      const token = JSON.parse(JSON.stringify(sessionStorage.getItem(\"groupomania-token\")));\n      const response = await api({\n        method: \"put\",\n        url: \"/users/profile/\",\n        data: {\n          avatar\n        },\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      onChangeAvatar(response.data.avatar);\n      close();\n    } catch (error) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: handleModal,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar-choice-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: tab && tab.map((element, i) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: e => onSubmitAvatar(e, i),\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                selectCardIndex: selectCardIndex,\n                number: element\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 21\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar-button\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onSubmit,\n          title: \"Valider l'avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Avatar, \"ulL2YUbZFRnOgblRKCWSZhOJHFs=\");\n\n_c2 = Avatar;\nexport default Avatar;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Card\");\n$RefreshReg$(_c2, \"Avatar\");","map":{"version":3,"sources":["/Users/jokizi/Documents/GitHub/BrunettiJoris_7_27052021/frontend/src/components/Avatars/Avatars.js"],"names":["useState","api","Button","Dialog","importAll","r","images","keys","forEach","item","index","replace","require","context","Card","number","selectCardIndex","border","default","Avatar","onChangeAvatar","close","open","handleModal","avatar","setAvatars","setSelectCardIndex","tab","Array","from","shift","onSubmitAvatar","e","i","target","name","onSubmit","token","JSON","parse","stringify","sessionStorage","getItem","response","method","url","data","headers","Authorization","error","map","element"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport api from \"../../Config/Api\";\nimport \"./avatars.css\";\n\nimport Button from \"../Button/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nfunction importAll(r) {\n  let images = {};\n  r.keys().forEach((item, index) => {\n    images[item.replace(\"./\", \"\")] = r(item);\n  });\n\n  return images;\n}\n\nconst images = importAll(require.context(\"../../assets/avatars\", false, /\\.(png|jpe?g|svg)$/));\n\nconst Card = ({ number, selectCardIndex }) => {\n  return (\n    <img\n      style={selectCardIndex === number ? { border: \"1px solid black\" } : null}\n      name={images[`${number}.jpg`].default}\n      src={images[`${number}.jpg`].default}\n      alt={number}\n      height={150}\n      width={150}\n    />\n  );\n};\nconst Avatar = ({ onChangeAvatar, close, open, handleModal }) => {\n  const [avatar, setAvatars] = useState(\"\");\n\n  const [selectCardIndex, setSelectCardIndex] = useState(null);\n  const tab = Array.from(Array(11).keys());\n\n  tab.shift();\n\n  const onSubmitAvatar = (e, i) => {\n    setAvatars(e.target.name);\n    setSelectCardIndex(i + 1);\n  };\n\n  const onSubmit = async () => {\n    try {\n      const token = JSON.parse(JSON.stringify(sessionStorage.getItem(\"groupomania-token\")));\n      const response = await api({\n        method: \"put\",\n        url: \"/users/profile/\",\n        data: { avatar },\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      onChangeAvatar(response.data.avatar);\n      close();\n    } catch (error) {}\n  };\n\n  return (\n    <Dialog open={open} onClose={handleModal}>\n      <div>\n        <div className=\"avatar-choice-container\">\n          <div>\n            {tab &&\n              tab.map((element, i) => {\n                return (\n                  <div key={i} onClick={(e) => onSubmitAvatar(e, i)}>\n                    <Card selectCardIndex={selectCardIndex} number={element} />\n                  </div>\n                );\n              })}\n          </div>\n        </div>\n        <div className=\"avatar-button\">\n          <Button onClick={onSubmit} title=\"Valider l'avatar\" />\n        </div>\n      </div>\n    </Dialog>\n  );\n};\nexport default Avatar;\n"]},"metadata":{},"sourceType":"module"}